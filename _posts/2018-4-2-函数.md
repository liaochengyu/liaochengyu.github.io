---
layout:     post                    # 使用的布局（不需要改）
title:      函数               # 标题 
subtitle:    #副标题
date:       2018-04-02              # 时间
author:     LCY                      # 作者
header-img: img/cover/bing_3.JPG    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                              #标签
- python 
---


>本篇博客是根据学习[廖雪峰python教程](https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001431679203477b5b364aeba8c4e05a9bd4ec1b32911e2000)而记录的笔记，你可以移步，也可以直接看我的笔记（内容有一定补充）。

# 在python中定义函数

在python中。定义一个函数要使用`def`关键字，然后依次写出函数名（和变量名要求一致）、括号、括号中的参数和冒号`：`，然后，在 **缩进块**中，编写函数体，函数的返回值用`return`语句返回。如下面就是一个实现对输入参数绝对值的返回函数：
```python
def my_abs(x):
    if x >= 0:
        return x
    else:
        return -x
```
**note**：
* 函数体内部的语句在执行时，一旦执行到`return`时，函数就执行完毕，并将结果返回。因此，函数内部通过条件判断和循环可以实现非常复杂的逻辑。
* 如果没有`return`语句，函数执行完毕后也会返回结果，只是结果为`None`。`return None`可以简写为`return`。
* 调用函数时，如果参数个数不对，Python解释器会自动检查出来，并抛出`TypeError`，可以使用数据类型检查内置函数`isinstance()`实现，如`isinstance(x,(float,int))`

--------------------
# 函数的参数
### 位置参数（必选参数）

比如在`my_abs`函数中的 **`x`**就是一个位置参数，也可以叫做必选参数，因为你在调用此函数时，必须参数此参数，否则解释器就会报错。
```python
def my_abs(x):
    if x >= 0:
        return x
    else:
        return -x
```

---------------------
### 默认参数

+ **必选参数**在前，**默认参数**在后，否则`Python`的解释器会报错
+ 如何设置默认参数。当函数有多个参数时，把变化大的参数放前面，变化小的参数放后面。变化小的参数就可以作为默认参数。
+ 在调用时，需要按照 **参数的顺序**，如果需要跳跃，在调用时，**必须加上参数名**进行调用

**notice**：**定义默认参数要牢记一点：默认参数必须指向不变对象！**即：默认参数不能是`list`等可变对象，换句话说，也就是不能使用list等可变变量作为默认参数的变量。


----------------
###  可变参数
>在Python函数中，还可以定义可变参数。顾名思义，可变参数就是传入的参数个数是可变的，可以是1个、2个到任意个，还可以是0个。

>我们以数学题为例子，给定一组数字a，b，c……，请计算a2 + b2 + c2 + ……

我们使用可变参数定义函数：
```python
def calc(*numbers):
    sum = 0
    for n in numbers:
        sum = sum + n * n
    return sum
```

定义可变参数和定义一个 **list或tuple参数**相比，仅仅在参数前面加了一个*号。在函数内部，参数`numbers`接收到的是一个`tuple`，因此，函数代码完全不变。但是，调用该函数时，可以传入任意个参数，包括0个参数：

--------------------
### 关键字参数

+ 可变参数允许你传入0个或任意个参数，这些可变参数在函数调用时自动组装为一个`tuple`。而关键字参数允许你传入0个或任意个含参数名的参数，这些关键字参数在函数内部自动组装为一个`dict`

```python
def person(name, age, **kw):
    print('name:', name, 'age:', age, 'other:', kw)
```

--------------------------
### 命名关键字参数
+ 如果要限制关键字参数的名字，就可以用命名关键字参数，例如，只接收city和job作为关键字参数。这种方式定义的函数如下：

```python
def person(name, age, *, city, job):
    print(name, age, city, job)
```

+ 和关键字参数`**kw`不同，命名关键字参数需要一个特殊分隔符`*`，`*`后面的参数被视为命名关键字参数。
+ 如果函数定义中已经有了一个可变参数，后面跟着的命名关键字参数就不再需要一个特殊分隔符`*`了：

```python
def person(name, age, *args, city, job):
    print(name, age, args, city, job)
```
+ 命名关键字参数 **必须传入参数名**，这和位置参数不同。如果没有传入参数名，调用将报错：


-----------------
### 参数组合

+ 在Python中定义函数，可以用必选参数、默认参数、可变参数、关键字参数和命名关键字参数，这5种参数都可以组合使用。但是请注意，参数定义的顺序必须是：**必选参数、默认参数、可变参数、命名关键字参数和关键字参数**。
+ 所以，对于任意函数，都可以通过类似`func(*args, **kw)`的形式调用它，无论它的参数是如何定义的。
+ 虽然组合多达5种参数，但不要同时使用太多的组合，否则函数接口的可理解性很差。


---------------------
# 小结

Python的函数具有非常灵活的参数形态，既可以实现简单的调用，又可以传入非常复杂的参数。默认参数一定要用 **不可变对象**，如果是可变对象，程序运行时会有逻辑错误！
要注意定义可变参数和关键字参数的语法：

+ `*args`是可变参数，`args`接收的是一个`tuple`；
+ `**kw`是关键字参数，kw接收的是一个`dict`。
+ 以及调用函数时如何传入可变参数和关键字参数的语法：可变参数既可以直接传入：`func(1, 2, 3)`，又可以先组装`list`或`tuple`，再通过`*args`传入：`func(*(1, 2, 3))`；
关键字参数既可以直接传入：`func(a=1, b=2)`，又可以先组装`dict`，再通过`**kw`传入：`func(**{'a': 1, 'b': 2})`。
+ 使用`*args`和`**kw`是Python的习惯写法，当然也可以用其他参数名，但最好使用习惯用法。
+ 命名的关键字参数是为了限制调用者可以传入的参数名，同时可以提供默认值。
定义命名的关键字参数在没有可变参数的情况下不要忘了写分隔符*，否则定义的将是位置参数。

----------------------

**写在最后: 如果本博客对你有一丢丢的帮助，请帮忙点个赞呗（主要赞是太少，显示在那里则不爽），谢谢啦，好人一生平安**

* 第一步：点击我博客的首页，滑动鼠标至页面最后，可看见以下图片，**点击数字**

![](https://raw.githubusercontent.com/liaochengyu/liaochengyu.github.io/master/img/star_1.jpg)

* 第二步：点动鼠标即可，是不是点完浑身轻松呢 ==）

![](https://raw.githubusercontent.com/liaochengyu/liaochengyu.github.io/master/img/star_2.jpg)
