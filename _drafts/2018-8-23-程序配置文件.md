---
layout:     post                    # 使用的布局（不需要改）
title:      配置文件               # 标题 
subtitle:   配置文件使用知识整理                        #副标题
date:       2018-08-23             # 时间
author:     LCY                      # 作者
header-img: img/cover/bing_14.JPG    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                              #标签
- 配置文件
---

>在做程序开发的时候，一般都会使用到配置文件，包含一些可能会经常修改的变量，如果直接写进程序中，可能不便于修改和维护，因此需要一个单独的文件来做这部分工作，相当于模块式的开发，这是我个人的鄙见，可能不是那么的准确。接下来，我们来看看对配置文件的常见操作和使用过程。

#### 常见配置文件拓展名
+ XML：C#一般是用XML来记录
+ TXT：用来配置没见过，做也是可以，不过估计要用的文本处理来读取
+ INI： 可以用WIN API来读取

针对winform，因此选择使用XML来存储配置文件是一个比较好的选择，因为在C#中有专门的类来读取XML文件，有先天的优势。

#### 添加config文件
在`visual studio 2017`中，新建winform解决方案时，都会自动添加配置文件，缺省名为`APP.config`，为标准的`xml`文件，其他版本如没有自动添加，可以自己手动的添加。

#### 向config文件添加数据
 
 ```matlab
 <?xml version="1.0" encoding="utf-8" ?>
 <configuration>
     <startup>
         <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5" />
     </startup>
     <appSettings>
       <add key="name" value="liaochengyu"/>
     </appSettings>
 </configuration>
 ```

#### 在winform中使用配置文件中的数据
+ 引进 **System.Configuration.dll**
+ 添加命名空间 **System.Configuration**
+ 使用参照一下代码，主要就是 **ConfigurationManager**的使用

```matlab
string name = ConfigurationManager.AppSettings["name"];
int age = Convert.ToInt32(ConfigurationManager.AppSettings["age"]);
label1.Text = name+age.ToString();
```

*note*:保存的数据都是 **string**类型，根据实际的需要，使用`Convert.X`函数来更改数据类型

#### 参考链接
+ [C# winform 添加配置文件](https://blog.csdn.net/e295166319/article/details/77839798)
+ [C#-操作应用程序配置文件App.config](https://www.cnblogs.com/ddx-deng/p/3755842.html)